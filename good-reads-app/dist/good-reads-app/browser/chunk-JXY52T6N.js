import{a as st}from"./chunk-LJ4A27SU.js";import{a as Ye,b as C,c as Ze,d as ne,e as Ke,f as G,h as Xe,i as et,j as tt,m as it,n as se,o as nt}from"./chunk-MLX54BGJ.js";import{a as Je,f as We,h as H,i as Qe,l as ge,m as qe}from"./chunk-OXCDAUQF.js";import{$ as b,A as $,B as Ne,Ba as K,Bb as T,C as Y,Cb as $e,Fa as u,G as j,Ga as g,I as Re,Ia as ke,Ma as X,Mb as je,P as Ae,Pa as _e,Q as y,R as Pe,Rb as te,S as de,V as k,Va as v,W as z,Wa as Ie,Wb as ie,Xa as p,Y as xe,Ya as fe,Za as me,_ as Fe,_a as ee,a as ae,ab as l,b as Te,bb as o,c as M,cb as _,dc as ze,ea as D,f as Ce,fa as J,gb as F,hb as S,i as E,ib as O,ic as V,jb as Be,k as Me,ka as ue,kb as Ge,m as le,na as N,oa as R,pb as Le,qb as Ve,r as ce,rb as He,sa as Z,sb as W,tb as c,ua as he,va as pe,vb as Q,wb as Ue,y as x,z as Ee}from"./chunk-UXP3UPEQ.js";var bt=["*"];var vt=["dialog"];var ot={animation:!0,transitionTimerDelayMs:5},yt=(()=>{let t=class t{constructor(){this.animation=ot.animation}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Dt(n){let{transitionDelay:t,transitionDuration:r}=window.getComputedStyle(n),e=parseFloat(t),i=parseFloat(r);return(e+i)*1e3}function rt(n){return typeof n=="string"}function be(n){return n!=null}function wt(n){return n&&n.then}function at(n){return(n||document.body).getBoundingClientRect()}function St(n){return t=>new Ce(r=>{let e=a=>n.run(()=>r.next(a)),i=a=>n.run(()=>r.error(a)),s=()=>n.run(()=>r.complete());return t.subscribe({next:e,error:i,complete:s})})}var Ot=()=>{},{transitionTimerDelayMs:Tt}=ot,oe=new Map,L=(n,t,r,e)=>{let i=e.context||{},s=oe.get(t);if(s)switch(e.runningTransition){case"continue":return Me;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),oe.delete(t)}let a=r(t,e.animation,i)||Ot;if(!e.animation||window.getComputedStyle(t).transitionProperty==="none")return n.run(()=>a()),le(void 0).pipe(St(n));let d=new E,h=new E,f=d.pipe(Re(!0));oe.set(t,{transition$:d,complete:()=>{h.next(),h.complete()},context:i});let m=Dt(t);return n.runOutsideAngular(()=>{let w=x(t,"transitionend").pipe(y(f),$(({target:B})=>B===t)),P=Ee(m+Tt).pipe(y(f));Ne(P,w,h).pipe(y(f)).subscribe(()=>{oe.delete(t),n.run(()=>{a(),d.next(),d.complete()})})}),d.asObservable()};var De=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(De||{});var wn=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||t()):!1})();var Ct=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lt(n){let t=Array.from(n.querySelectorAll(Ct)).filter(r=>r.tabIndex!==-1);return[t[0],t[t.length-1]]}var Mt=(n,t,r,e=!1)=>{n.runOutsideAngular(()=>{let i=x(t,"focusin").pipe(y(r),ce(s=>s.target));x(t,"keydown").pipe(y(r),$(s=>s.which===De.Tab),de(i)).subscribe(([s,a])=>{let[d,h]=lt(t);(a===d||a===t)&&s.shiftKey&&(h.focus(),s.preventDefault()),a===h&&!s.shiftKey&&(d.focus(),s.preventDefault())}),e&&x(t,"click").pipe(y(r),de(i),ce(s=>s[1])).subscribe(s=>s.focus())})};var Sn=new Date(1882,10,12),On=new Date(2174,10,25);var Tn=1e3*60*60*24;var we=1080,Et=24*we,Nt=12*we+793,Cn=29*Et+Nt,Mn=11*we+204;var Rt=(()=>{let t=class t{constructor(){this._ngbConfig=b(yt),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),U=class{constructor(t,r,e){this.nodes=t,this.viewRef=r,this.componentRef=e}};var At=(()=>{let t=class t{constructor(){this._document=b(ie)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:a,paddingRight:d}=s;if(e>0){let h=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${h+e}px`}return s.overflow="hidden",()=>{e>0&&(s.paddingRight=d),s.overflow=a}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Pt=(()=>{let t=class t{constructor(){this._nativeElement=b(he).nativeElement,this._zone=b(X)}ngOnInit(){this._zone.onStable.asObservable().pipe(j(1)).subscribe(()=>{L(this._zone,this._nativeElement,(e,i)=>{i&&at(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return L(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=D({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,s){i&2&&(ee("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),me("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[T],decls:0,vars:0,template:function(i,s){},encapsulation:2});let n=t;return n})(),re=class{update(t){}close(t){}dismiss(t){}},xt=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ft=["animation","backdropClass"],ve=class{_applyWindowOptions(t,r){xt.forEach(e=>{be(r[e])&&(t[e]=r[e])})}_applyBackdropOptions(t,r){Ft.forEach(e=>{be(r[e])&&(t[e]=r[e])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(y(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(y(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,r,e,i){this._windowCmptRef=t,this._contentRef=r,this._backdropCmptRef=e,this._beforeDismiss=i,this._closed=new E,this._dismissed=new E,this._hidden=new E,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,a)=>{this._resolve=s,this._reject=a}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let r=this._beforeDismiss();wt(r)?r.then(e=>{e!==!1&&this._dismiss(t)},()=>{}):r!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():le(void 0);t.subscribe(()=>{let{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Y(t,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},ye=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(ye||{}),kt=(()=>{let t=class t{constructor(){this._document=b(ie),this._elRef=b(he),this._zone=b(X),this._closed$=new E,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new pe,this.shown=new E,this.hidden=new E}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":rt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(j(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=L(this._zone,e,()=>e.classList.remove("show"),i),a=L(this._zone,this._dialogEl.nativeElement,()=>{},i),d=Y(s,a);return d.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),d}_show(){let e={animation:this.animation,runningTransition:"continue"},i=L(this._zone,this._elRef.nativeElement,(a,d)=>{d&&at(a),a.classList.add("show")},e),s=L(this._zone,this._dialogEl.nativeElement,()=>{},e);Y(i,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{x(e,"keydown").pipe(y(this._closed$),$(s=>s.which===De.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(ye.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;x(this._dialogEl.nativeElement,"mousedown").pipe(y(this._closed$),Pe(()=>i=!1),Ae(()=>x(e,"mouseup").pipe(y(this._closed$),j(1))),$(({target:s})=>e===s)).subscribe(()=>{i=!0}),x(e,"click").pipe(y(this._closed$)).subscribe(({target:s})=>{e===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(ye.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let i=e.querySelector("[ngbAutofocus]"),s=lt(e)[0];(i||s||e).focus()}}_restoreFocus(){let e=this._document.body,i=this._elWithFocus,s;i&&i.focus&&e.contains(i)?s=i:s=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&L(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=D({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,s){if(i&1&&Le(vt,7),i&2){let a;Ve(a=He())&&(s._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,s){i&2&&(Ie("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),ee("modal d-block"+(s.windowClass?" "+s.windowClass:"")),me("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[T],ngContentSelectors:bt,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,s){i&1&&(Be(),l(0,"div",1,0)(2,"div",2),Ge(3),o()()),i&2&&ee("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=t;return n})(),It=(()=>{let t=class t{constructor(){this._applicationRef=b(je),this._injector=b(Z),this._environmentInjector=b(ue),this._document=b(ie),this._scrollBar=b(At),this._activeWindowCmptHasChanged=new E,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new pe;let e=b(X);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Mt(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,s){let a=s.container instanceof HTMLElement?s.container:be(s.container)?this._document.querySelector(s.container):this._document.body;if(!a)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let d=new re;e=s.injector||e;let h=e.get(ue,null)||this._environmentInjector,f=this._getContentRef(e,h,i,d,s),m=s.backdrop!==!1?this._attachBackdrop(a):void 0,w=this._attachWindowComponent(a,f.nodes),P=new ve(w,f,m,s.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(w),P.hidden.pipe(j(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=B=>{P.close(B)},d.dismiss=B=>{P.dismiss(B)},d.update=B=>{P.update(B)},P.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),m&&m.instance&&m.changeDetectorRef.detectChanges(),w.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=te(Pt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let s=te(kt,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),e.appendChild(s.location.nativeElement),s}_getContentRef(e,i,s,a,d){return s?s instanceof ke?this._createFromTemplateRef(s,a):rt(s)?this._createFromString(s):this._createFromComponent(e,i,s,a,d):new U([])}_createFromTemplateRef(e,i){let s={$implicit:i,close(d){i.close(d)},dismiss(d){i.dismiss(d)}},a=e.createEmbeddedView(s);return this._applicationRef.attachView(a),new U([a.rootNodes],a)}_createFromString(e){let i=this._document.createTextNode(`${e}`);return new U([[i]])}_createFromComponent(e,i,s,a,d){let h=Z.create({providers:[{provide:re,useValue:a}],parent:e}),f=te(s,{environmentInjector:i,elementInjector:h}),m=f.location.nativeElement;return d.scrollable&&m.classList.add("component-host-scrollable"),this._applicationRef.attachView(f.hostView),new U([[m]],f.hostView,f)}_setAriaHidden(e){let i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==e&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let i=()=>{let s=this._modalRefs.indexOf(e);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ct=(()=>{let t=class t{constructor(){this._injector=b(Z),this._modalStack=b(It),this._config=b(Rt)}open(e,i={}){let s=ae(Te(ae({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,e,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var En=new xe("live announcer delay",{providedIn:"root",factory:()=>100});var A=(()=>{let t=class t extends qe{login(e,i){return this.post(`${this.usersEndpoint}/login/`,{email:e,password:i})}ResetPassword(e,i){return this.post(`${this.usersEndpoint}/reset-password/`,{email:e,password:i})}constructor(e){super(e),this.httpClient=e,this.usersEndpoint="Users",this.Users$=_e([]),this.User$=_e(null)}refreshUsers(){return M(this,null,function*(){let e=yield this.get(this.usersEndpoint);this.Users$.set(e??[])})}getUsers(){return M(this,null,function*(){return yield this.refreshUsers(),this.Users$()??[]})}getUser(e){return M(this,null,function*(){return this.get(`${this.usersEndpoint}/${e}`)})}createUser(e){return M(this,null,function*(){return yield this.post(`${this.usersEndpoint}`,e)})}updateUser(e,i){return M(this,null,function*(){return this.put(`${this.usersEndpoint}/${e}`,i)})}deleteUser(e){return M(this,null,function*(){return this.delete(`${this.usersEndpoint}/${e}`)})}ForgetPasswordRequest(e){return M(this,null,function*(){return this.get(`${this.usersEndpoint}/ForgetPassword/${e}`)})}};t.\u0275fac=function(i){return new(i||t)(Fe(Je))},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var dt=(()=>{let t=class t{constructor(e,i){this.UserService=e,this.router=i}ngOnInit(){this.form=document.getElementById("forgotPasswordForm")}onSubmit(e){event?.preventDefault(),console.log("Form submitted:",this.form.email.value),this.form?(this.UserService.ForgetPasswordRequest(this.form.email.value).then(i=>{i?(console.log(i.email),this.router.navigate(["/auth/reset-password/"+i.email])):alert("Email not found")}),console.log("Form submitted:",this.form.email.value)):console.error("Form not found")}};t.\u0275fac=function(i){return new(i||t)(g(A),g(H))},t.\u0275cmp=D({type:t,selectors:[["app-forget-password"]],standalone:!0,features:[T],decls:21,vars:0,consts:[["forgotPasswordForm",""],["id","forgotPasswordModal","tabindex","-1","role","dialog","aria-labelledby","forgotPasswordModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","forgotPasswordModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["id","forgotPasswordForm",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","placeholder","Enter your email",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["data-toggle","modal","data-target","#forgotPasswordModal","type","submit",1,"btn","btn-primary",3,"click"]],template:function(i,s){if(i&1){let a=F();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h5",5),c(5," Reset Password "),o(),l(6,"button",6)(7,"span",7),c(8,"\xD7"),o()()(),l(9,"div",8)(10,"form",9,0),S("ngSubmit",function(h){return N(a),R(s.onSubmit(h))}),l(12,"div",10)(13,"label",11),c(14,"Enter your email address"),o(),_(15,"input",12),o(),l(16,"div",13)(17,"button",14),c(18," Close "),o(),l(19,"button",15),S("click",function(h){return N(a),R(s.onSubmit(h))}),c(20," Reset Password "),o()()()()()()()}}});let n=t;return n})();var Lt=()=>["/auth/signup"],Oe=(()=>{let t=class t{onSubmit(e,i){e.preventDefault(),console.log("Form submitted:",i.email.value),console.log("Form submitted:",i.password.value),this.UserService.login(i.email.value,i.password.value).then(s=>{sessionStorage.setItem("token",s.token),console.log(s.User),sessionStorage.setItem("User",JSON.stringify(s.User)),window.location.href="/"})}constructor(e,i,s){this.modalService=e,this.UserService=i,this.router=s}};t.\u0275fac=function(i){return new(i||t)(g(ct),g(A),g(H))},t.\u0275cmp=D({type:t,selectors:[["app-login"]],decls:28,vars:2,consts:[["loginForm",""],[1,"login-container",2,"height","100vh"],[1,"card"],[1,"card-body"],[1,"card-title"],["id","loginForm",3,"submit"],[1,"form-group"],["for","email"],["name","email","type","text","id","email","placeholder","Enter Your Email",1,"form-control"],["for","password"],["name","password","type","password","id","password","placeholder","Enter password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mt-4"],[1,"text-center","mt-3"],["type","button","data-toggle","modal","data-target","#forgotPasswordModal",1,"btn","btn-primary","forget-password-btn"],[3,"routerLink"]],template:function(i,s){if(i&1){let a=F();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"h3",4),c(4,"Login"),o(),l(5,"form",5,0),S("submit",function(h){N(a);let f=W(6);return R(s.onSubmit(h,f))}),l(7,"div",6)(8,"label",7),c(9,"Email"),o(),_(10,"input",8),o(),l(11,"div",6)(12,"label",9),c(13,"Password"),o(),_(14,"input",10),o(),l(15,"button",11),c(16," Login "),o(),_(17,"br"),o(),l(18,"div",12)(19,"button",13),c(20," Forgot Password "),o(),_(21,"br"),l(22,"span"),c(23," Don't have an account? "),l(24,"a",14)(25,"strong"),c(26,"Sign up"),o()()()()()()(),_(27,"app-forget-password")}i&2&&(u(24),p("routerLink",$e(1,Lt)))},dependencies:[Qe,dt],styles:['body[_ngcontent-%COMP%]{background-color:#fefae0;height:100vh;display:flex;justify-content:center;align-items:center;margin:0}.login-container[_ngcontent-%COMP%]{background:#ccd5ae;background:linear-gradient(270deg,#ccd5ae,#e0e5b6 63%,#fefae0);display:flex;justify-content:center;align-items:center;height:100%;width:100%}h3[_ngcontent-%COMP%]:after{content:" ";display:block;border:2px solid #5a5a5a;width:50px;margin:5px auto auto;border-radius:20px}.card[_ngcontent-%COMP%]{background-color:#fefae0!important;border:1px solid #e0e5b6;border-radius:10px;padding:30px;box-shadow:#63636333 0 2px 8px;width:100%;max-width:400px;height:auto}.card-title[_ngcontent-%COMP%]{color:#5a5a5a;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:#ccd5ae;border-color:#ccd5ae;width:100%}.form-control[_ngcontent-%COMP%]{border:1px solid #5a5a5a;border-radius:5px;background:none}.form-control[_ngcontent-%COMP%]:focus{box-shadow:#64646f33 0 7px 29px;border:none}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-content[_ngcontent-%COMP%]{background-color:#fefae0;border-radius:10px}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e0e5b6}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid #e0e5b6}.btn-primary[_ngcontent-%COMP%]{background-color:#ccd5ae;border-color:#ccd5ae}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#e0e5b6;border-color:#e0e5b6}forget-password-btn[_ngcontent-%COMP%]:focus{color:#5a5a5a;text-decoration:none;background-color:#ccd5ae}button.btn.btn-primary.forget-password-btn[_ngcontent-%COMP%]:active{background-color:#ccd5ae;color:#5a5a5a}']});let n=t;return n})();function ut(n){return new Promise((t,r)=>{if(n!=null){let e=new FileReader;e.onload=i=>{let s=i.target.result,a=btoa(s);t(a)},e.readAsBinaryString(n)}else r("Error: Input is null or undefined")})}function ht(n){let t=atob(n.split(",")[1]),r=n.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(t.length),i=new Uint8Array(e);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return new Blob([e],{type:r})}function Ht(n,t){n&1&&(l(0,"small"),c(1," First Name is required. "),o())}function Ut(n,t){if(n&1&&(l(0,"div"),v(1,Ht,2,0,"small",5),o()),n&2){let r,e=O();u(),p("ngIf",(r=e.registerForm.get("firstName"))==null||r.errors==null?null:r.errors.required)}}function $t(n,t){n&1&&(l(0,"small"),c(1," Last Name is required. "),o())}function jt(n,t){if(n&1&&(l(0,"div"),v(1,$t,2,0,"small",5),o()),n&2){let r,e=O();u(),p("ngIf",(r=e.registerForm.get("lastName"))==null||r.errors==null?null:r.errors.required)}}function zt(n,t){n&1&&(l(0,"small"),c(1," Email is required. "),o())}function Jt(n,t){n&1&&(l(0,"small"),c(1," Invalid email format. "),o())}function Wt(n,t){if(n&1&&(l(0,"div"),v(1,zt,2,0,"small",5)(2,Jt,2,0,"small",5),o()),n&2){let r,e,i=O();u(),p("ngIf",(r=i.registerForm.get("email"))==null||r.errors==null?null:r.errors.required),u(),p("ngIf",(e=i.registerForm.get("email"))==null||e.errors==null?null:e.errors.email)}}function Qt(n,t){n&1&&(l(0,"small"),c(1," Password is required. "),o())}function qt(n,t){n&1&&(l(0,"small"),c(1," Password must contain at least one lowercase letter, one uppercase letter, one digit, and one special character. "),o())}function Yt(n,t){if(n&1&&(l(0,"div"),v(1,Qt,2,0,"small",5)(2,qt,2,0,"small",5),o()),n&2){let r,e,i=O();u(),p("ngIf",(r=i.registerForm.get("password"))==null||r.errors==null?null:r.errors.required),u(),p("ngIf",(e=i.registerForm.get("password"))==null||e.errors==null?null:e.errors.pattern)}}function Zt(n,t){n&1&&(l(0,"small"),c(1," Confirm Password is required. "),o())}function Kt(n,t){n&1&&(l(0,"small"),c(1," Passwords do not match. "),o())}function Xt(n,t){if(n&1&&(l(0,"div"),v(1,Zt,2,0,"small",5)(2,Kt,2,0,"small",5),o()),n&2){let r,e=O();u(),p("ngIf",(r=e.registerForm.get("confirmPassword"))==null||r.errors==null?null:r.errors.required),u(),p("ngIf",e.registerForm.errors==null?null:e.registerForm.errors.mustMatch)}}function ei(n,t){if(n&1&&(l(0,"div",20),_(1,"div",21),o()),n&2){let r=O();u(),fe("width",r.uploadProgress,"%")}}function ti(n,t){n&1&&(l(0,"small",22),c(1,"Upload done!"),o())}function ii(n,t){if(n&1){let r=F();l(0,"div",23),_(1,"img",24),l(2,"button",25),S("click",function(){N(r);let i=O();return R(i.removeImage())}),c(3,"Remove"),o()()}if(n&2){let r=O();u(),p("src",r.imagePreviewUrl,K)}}function ni(n,t){n&1&&(l(0,"small"),c(1," Image is required. "),o())}function si(n,t){if(n&1&&(l(0,"div"),v(1,ni,2,0,"small",5),o()),n&2){let r,e=O();u(),p("ngIf",(r=e.registerForm.get("image"))==null||r.errors==null?null:r.errors.required)}}var pt=(()=>{let t=class t{constructor(e,i,s,a){this.fb=e,this.router=i,this.UserService=s,this.imageCompress=a,this.uploadInProgress=!1,this.uploadProgress=0,this.uploadDone=!1,this.imagePreviewUrl=null,this.registerForm=this.fb.group({firstName:new G("",[C.required,C.minLength(2)]),lastName:new G("",[C.required,C.minLength(2)]),email:new G("",[C.required,C.email]),password:new G("",[C.required,C.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,}$")]),confirmPassword:new G("",[C.required]),image:new G("",[C.required])},{validators:this.passwordMatchValidator}),this.user={firstName:"",lastName:"",email:"",password:"",profilePic:""}}ngOnInit(){this.registerForm.get("password")?.valueChanges.subscribe(()=>{this.registerForm.get("confirmPassword")?.updateValueAndValidity()})}passwordMatchValidator(e){return e.get("password")?.value===e.get("confirmPassword")?.value?null:{mustMatch:!0}}onFileSelected(e){let i=e.target.files[0];if(this.file=i,i&&i.type.startsWith("image/")){this.uploadInProgress=!0,this.uploadDone=!1,this.uploadProgress=0;let a=new FileReader;a.onload=()=>{this.imagePreviewUrl=a.result},a.readAsDataURL(i);let d=setInterval(()=>{this.uploadProgress<100?this.uploadProgress+=5:(clearInterval(d),this.uploadDone=!0,this.uploadInProgress=!1)},100);a.onloadend=h=>{let f=h.target.result;this.imageCompress.compressFile(f,-1,50,50).then(m=>{let w=ht(m);this.file=new File([w],i.name,{type:i.type,lastModified:i.lastModified}),setTimeout(()=>{this.uploadProgress=100,clearInterval(d),this.uploadDone=!0,this.uploadInProgress=!1},1e3)},m=>{console.error("Image compression failed:",m),this.uploadInProgress=!1})}}}register(){return M(this,null,function*(){this.registerForm.valid?(this.user={firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password,profilePic:yield ut(this.file)},this.UserService.createUser(this.user).then(e=>{console.log(e),e&&(sessionStorage.setItem("token",e.token),this.router.navigate(["main/"]))})):(Object.keys(this.registerForm.controls).forEach(e=>{let i=this.registerForm.get(e);i?.invalid&&(console.log(`Control ${e} is invalid:`),console.log(i.errors))}),console.log("Form is invalid"))})}removeImage(){this.imagePreviewUrl=null,this.file=null,this.uploadDone=!1,this.uploadProgress=0,this.registerForm.get("image")?.reset()}};t.\u0275fac=function(i){return new(i||t)(g(it),g(H),g(A),g(st))},t.\u0275cmp=D({type:t,selectors:[["app-signup"]],standalone:!0,features:[T],decls:39,vars:10,consts:[[1,"fullPage"],[1,"register-form",3,"formGroup"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","formControlName","firstName","placeholder","First Name"],[4,"ngIf"],["for","lastName"],["id","lastName","type","text","formControlName","lastName","placeholder","Last Name"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Enter Your Email"],["for","password"],["id","password","type","password","formControlName","password","placeholder","Enter Your Password"],["for","confirmPassword"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","Retype Your Password"],["for","image",1,"upload-image-label"],["id","image","type","file","formControlName","image","accept","image/*",3,"change"],["class","progress-container",4,"ngIf"],["class","upload-done",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"register-btn",3,"click"],[1,"progress-container"],[1,"progress-bar"],[1,"upload-done"],[1,"image-preview-container"],["alt","Image Preview",1,"image-preview",3,"src"],["type","button",1,"remove-image-btn",3,"click"]],template:function(i,s){if(i&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Sign Up"),o(),l(4,"div",2)(5,"label",3),c(6,"First Name"),o(),_(7,"input",4),v(8,Ut,2,1,"div",5),o(),l(9,"div",2)(10,"label",6),c(11,"Last Name"),o(),_(12,"input",7),v(13,jt,2,1,"div",5),o(),l(14,"div",2)(15,"label",8),c(16,"Enter Your Email"),o(),_(17,"input",9),v(18,Wt,3,2,"div",5),o(),l(19,"div",2)(20,"label",10),c(21,"Enter Your Password"),o(),_(22,"input",11),v(23,Yt,3,2,"div",5),o(),l(24,"div",2)(25,"label",12),c(26,"Retype Your Password"),o(),_(27,"input",13),v(28,Xt,3,2,"div",5),o(),l(29,"div",2)(30,"label",14),c(31,"Upload Your Image"),o(),l(32,"input",15),S("change",function(d){return s.onFileSelected(d)}),o(),v(33,ei,2,2,"div",16)(34,ti,2,0,"small",17)(35,ii,4,1,"div",18)(36,si,2,1,"div",5),o(),l(37,"button",19),S("click",function(){return s.register()}),c(38," Register "),o()()()),i&2){let a,d,h,f,m,w;u(),p("formGroup",s.registerForm),u(7),p("ngIf",((a=s.registerForm.get("firstName"))==null?null:a.invalid)&&((a=s.registerForm.get("firstName"))==null?null:a.touched)),u(5),p("ngIf",((d=s.registerForm.get("lastName"))==null?null:d.invalid)&&((d=s.registerForm.get("lastName"))==null?null:d.touched)),u(5),p("ngIf",((h=s.registerForm.get("email"))==null?null:h.invalid)&&((h=s.registerForm.get("email"))==null?null:h.touched)),u(5),p("ngIf",((f=s.registerForm.get("password"))==null?null:f.invalid)&&((f=s.registerForm.get("password"))==null?null:f.touched)),u(5),p("ngIf",((m=s.registerForm.get("confirmPassword"))==null?null:m.invalid)&&((m=s.registerForm.get("confirmPassword"))==null?null:m.touched)),u(5),p("ngIf",s.uploadInProgress),u(),p("ngIf",s.uploadDone),u(),p("ngIf",s.imagePreviewUrl),u(),p("ngIf",((w=s.registerForm.get("image"))==null?null:w.invalid)&&((w=s.registerForm.get("image"))==null?null:w.touched))}},dependencies:[V,ze,se,Ye,Ze,ne,nt,et,tt],styles:['.fullPage[_ngcontent-%COMP%]{align-items:flex-start;min-height:calc(100vh - 200px);margin:0;padding-top:50px;padding-bottom:50px;background:#ccd5ae;background:linear-gradient(270deg,#ccd5ae,#e0e5b6 63%,#fefae0);display:flex;justify-content:center;align-items:center;height:100%;width:100%}.register-form[_ngcontent-%COMP%]{background:#fefae0;border:1px solid #e0e5b6;border-radius:10px;padding:30px;box-shadow:#63636333 0 2px 8px;width:100%;max-width:500px;box-sizing:border-box}h2[_ngcontent-%COMP%]{color:#5a5a5a;text-align:center}h2[_ngcontent-%COMP%]:after{content:" ";display:block;border:2px solid #5a5a5a;width:50px;margin:5px auto auto;border-radius:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{color:#5a5a5a}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #5a5a5a;border-radius:5px;background:none}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{box-shadow:#64646f33 0 7px 29px;border:none}small[_ngcontent-%COMP%]{color:red;font-size:12px}#image[_ngcontent-%COMP%]{display:none}.upload-image-label[_ngcontent-%COMP%]{background-color:#ccd5ae;border-color:#ccd5ae;color:#5a5a5a;padding:10px;border-radius:5px;cursor:pointer;display:block;width:100%;text-align:center;margin-top:10px}.upload-image-label[_ngcontent-%COMP%]:hover{background-color:#e0e5b6;border-color:#e0e5b6}.progress-container[_ngcontent-%COMP%]{background-color:#f1f1f1;border-radius:5px;margin-top:10px;overflow:hidden;width:100%;height:20px}.progress-bar[_ngcontent-%COMP%]{background-color:#ccd5ae;height:100%;width:0;transition:width .4s ease}.upload-done[_ngcontent-%COMP%]{color:green;font-size:12px;display:block;text-align:center;margin-top:10px}.image-preview-container[_ngcontent-%COMP%]{margin-top:10px;text-align:center}.image-preview[_ngcontent-%COMP%]{max-width:100px;max-height:100px;border-radius:5px;border:1px solid #5a5a5a}.remove-image-btn[_ngcontent-%COMP%]{display:block;margin:10px auto 0;padding:5px 10px;background-color:#ccd5ae;border:1px solid #5a5a5a;border-radius:5px;color:#5a5a5a;cursor:pointer;font-size:12px}.remove-image-btn[_ngcontent-%COMP%]:hover{background-color:#e0e5b6;border-color:#e0e5b6}.register-btn[_ngcontent-%COMP%]{background-color:#ccd5ae;border-color:#ccd5ae;color:#5a5a5a;padding:10px;border-radius:5px;cursor:pointer;width:100%;text-align:center;margin-top:20px}.register-btn[_ngcontent-%COMP%]:disabled{background-color:#e0e5b6;border-color:#e0e5b6;cursor:not-allowed}.register-btn[_ngcontent-%COMP%]:hover{background-color:#e0e5b6;border-color:#e0e5b6}']});let n=t;return n})();var _t=(()=>{let t=class t{constructor(e,i){this.route=e,this.UserService=i,this.email=this.route.snapshot.queryParamMap.get("email"),this.Form=document.getElementById("resetPasswordForm2")}ResetPassword(e){this.UserService.ResetPassword(this.email,e.value.password).then(i=>{console.log(i)})}};t.\u0275fac=function(i){return new(i||t)(g(We),g(A))},t.\u0275cmp=D({type:t,selectors:[["app-reset-password"]],standalone:!0,features:[T],decls:22,vars:1,consts:[["form","ngForm","resetPasswordForm2",""],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-header","text-center"],[1,"card-body"],["id","resetPasswordForm2",3,"ngSubmit"],[1,"h3","mb-3","font-weight-normal"],[1,"form-group"],["for","newPassword"],["name","newPassword","type","password","id","newPassword","placeholder","Enter new password",1,"form-control"],["for","confirmPassword"],["name","confirmPassword","type","password","id","confirmPassword","placeholder","Confirm new password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"]],template:function(i,s){if(i&1){let a=F();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),c(5,"Reset Password"),o(),l(6,"div",6)(7,"form",7,0),S("ngSubmit",function(){N(a);let h=W(8);return R(s.ResetPassword(h))}),l(10,"h1",8),c(11),o(),l(12,"div",9)(13,"label",10),c(14,"New Password"),o(),_(15,"input",11),o(),l(16,"div",9)(17,"label",12),c(18,"Confirm New Password"),o(),_(19,"input",13),o(),l(20,"button",14),c(21," Reset Password "),o()()()()()()()}i&2&&(u(11),Q(" Enter your new password For ",s.email," "))},dependencies:[se,Xe,ne,Ke]});let n=t;return n})();var ft=(()=>{let t=class t{constructor(e){let i=sessionStorage.getItem("User"),s=JSON.parse(i??"{}");e.getUser((s._id??"").toString()).then(a=>{this.profile=a})}};t.\u0275fac=function(i){return new(i||t)(g(A))},t.\u0275cmp=D({type:t,selectors:[["app-profile"]],standalone:!0,features:[T],decls:16,vars:4,consts:[[1,"profile-container"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"profile-details"],[1,"profile-pic-container"],["alt","Profile Picture",1,"profile-pic",3,"src"]],template:function(i,s){i&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),c(4,"Profile"),o(),l(5,"div",4)(6,"div",5),_(7,"img",6),o(),l(8,"p")(9,"strong"),c(10,"Full Name:"),o(),c(11),o(),l(12,"p")(13,"strong"),c(14,"Email:"),o(),c(15),o()()()()()),i&2&&(u(7),p("src",s.profile==null?null:s.profile.profilePic,K),u(4),Ue(" ",s.profile==null?null:s.profile.firstName," ",s.profile==null?null:s.profile.lastName,""),u(4),Q(" ",s.profile==null?null:s.profile.email,""))},styles:[".profile-container[_ngcontent-%COMP%]{background-color:#fefae0;height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.card[_ngcontent-%COMP%]{background-color:#ccd5ae;border-radius:10px;width:100%;max-width:400px;box-shadow:#00000059 0 5px 15px}.card-title[_ngcontent-%COMP%]{color:#5a5a5a;text-align:center;margin-bottom:20px}.profile-details[_ngcontent-%COMP%]{text-align:center}.profile-pic-container[_ngcontent-%COMP%]{margin-bottom:20px}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;border:5px solid #ccd5ae;object-fit:cover}.profile-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5a5a5a;font-size:16px;margin-bottom:10px}"]});let n=t;return n})();var oi=[{path:"login",component:Oe},{path:"signup",component:pt},{path:"reset-password/:email",component:_t},{path:"profile",component:ft}],mt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=J({type:t}),t.\u0275inj=z({imports:[V,ge.forChild(oi),ge]});let n=t;return n})();var rs=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=J({type:t}),t.\u0275inj=z({imports:[V,mt]});let n=t;return n})();export{rs as AuthModule};
